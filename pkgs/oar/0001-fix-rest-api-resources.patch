From a9174995f0d23fb9bab422b3c61a6cf555821685 Mon Sep 17 00:00:00 2001
From: Quentin Guilloteau <Quentin.Guilloteau@inria.fr>
Date: Fri, 14 Apr 2023 22:49:20 +0200
Subject: [PATCH] fix rest api resources

---
 oar/rest_api/views/job.py | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/oar/rest_api/views/job.py b/oar/rest_api/views/job.py
index 5b0faab..bb536f3 100644
--- a/oar/rest_api/views/job.py
+++ b/oar/rest_api/views/job.py
@@ -66,7 +66,7 @@ def index(
 @app.route("/", methods=["POST"])
 @app.args(
     {
-        "resource": Arg([str]),
+        "resource": Arg(str),
         "command": Arg(str),
         "workdir": Arg(str),
         "param_file": Arg(str),
@@ -239,9 +239,9 @@ def submit(
     if param_file:
         array_params = param_file.split("\n")
         # array_nb = len(array_params)
-    # if not isinstance(resource, list):
-    #    resource = [resource]
-
+    if not isinstance(resource, list):
+       resource = [resource]
+    
     job_parameters = JobParameters(
         job_type="PASSIVE",
         command=command,
-- 
2.38.1

